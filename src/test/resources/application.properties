# Spring Datasource Configuration for Tests
# This file overrides the main application.properties during the test phase.

# Use the H2 in-memory database driver
spring.datasource.driver-class-name=org.h2.Driver

# Connection URL for a private, in-memory database named 'testdb'
# DB_CLOSE_DELAY=-1 keeps the database alive for the duration of the test run.
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1

# Credentials for H2 (can be anything for an in-memory db)
spring.datasource.username=sa
spring.datasource.password=password

# JPA/Hibernate Configuration for Tests
# Use the H2 dialect
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Let Hibernate automatically create the database schema from your @Entity classes for each test run.
# This is much simpler than running Flyway migrations against an in-memory DB.
spring.jpa.hibernate.ddl-auto=create-drop

# Disable Flyway for tests, as Hibernate is handling the schema creation.
spring.flyway.enabled=false

# JWT Properties for Testing
# These values are needed for the application context to load successfully during tests.
app.jwt.secret=======================TestSecretForJUnit===========================
app.jwt.expiration-ms=86400000
